<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="futsal.mybatis">

	<select id="selectJoinEvent">
    SELECT
      EVENT_ID
      , USER_ID
      , JOIN_CODE
      , UPDATE_DATE
      , UPDATE_USER
      , INSERT_DATE
      , INSERT_USER
      , DELETE_FLG
    FROM
      EVENT_PARTICIPANT;
	</select>

	<select id="selectJoinUser" parameterType="com.wicket_futsal.dto.EventParticipantDTO" resultType="Map">
    SELECT
      EVENT_ID
      , USER_ID
      , JOIN_CODE
      , UPDATE_DATE
      , UPDATE_USER
      , INSERT_DATE
      , INSERT_USER
      , DELETE_FLG
    FROM
      EVENT_PARTICIPANT
    WHERE
      EVENT_ID = #{eventId}
      AND USER_ID = #{userId};
	</select>

	<insert id="insertJoinEvent" parameterType="com.wicket_futsal.dto.EventParticipantDTO">
    INSERT
    INTO EVENT_PARTICIPANT(
      EVENT_ID
      , USER_ID
      , JOIN_CODE
      , UPDATE_DATE
      , UPDATE_USER
      , INSERT_DATE
      , INSERT_USER
      , DELETE_FLG
    )
    VALUES (
      #{eventId}
      , #{userId}
      , #{joinCode}
      , CURRENT_TIMESTAMP
      , #{userId}
      , CURRENT_TIMESTAMP
      , #{userId}
      , '0'
    );
	</insert>

</mapper>